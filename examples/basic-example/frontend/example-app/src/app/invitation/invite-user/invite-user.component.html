<div class="invite-user-container">
    <div class="bg-light border-dark rounded p-3 invite-row">
        <h2 class="text-center">Invite User</h2>
        <form [formGroup]="inviteUserForm">
            <div class="col-12 mt-3">
                <mat-label>Auth Provider <i class="text-danger">*</i></mat-label>
                <mat-button-toggle-group name="Auth Provider" class="d-flex" formControlName="authProvider">
                    <mat-button-toggle class="w-100" value="internal">Internal</mat-button-toggle>
                    <mat-button-toggle class="w-100" value="keycloak">Keycloak</mat-button-toggle>
                </mat-button-toggle-group>
            </div>
            <div class="text-danger"
                *ngIf="inviteUserForm.get('authProvider')?.touched && inviteUserForm.get('authProvider')?.invalid">
                <div *ngIf="inviteUserForm.get('authProvider')?.hasError('required')">Auth Provider is required</div>
            </div>

            <mat-form-field class="col-12 mt-3">
                <mat-label>Email</mat-label>
                <input matInput placeholder="Password" formControlName="email" required>
            </mat-form-field>
            <div class="text-danger"
                *ngIf="inviteUserForm.get('email')?.touched && inviteUserForm.get('email')?.invalid">
                <div *ngIf="inviteUserForm.get('email')?.hasError('required')">Email is required</div>
                <div *ngIf="inviteUserForm.get('email')?.hasError('email')">Email is not valid</div>
            </div>

            <mat-form-field class="col-12 mt-3">
                <mat-label>Role</mat-label>
                <mat-select formControlName="roleId">
                    <mat-option value="">None</mat-option>
                    <mat-option *ngFor="let role of roles" [value]="role.id">
                        {{role.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <div class="text-danger"
                *ngIf="inviteUserForm.get('roleId')?.touched && inviteUserForm.get('roleId')?.invalid">
                <div *ngIf="inviteUserForm.get('roleId')?.hasError('required')">Role is required</div>
            </div>

            <mat-form-field class="col-12 mt-3" *ngIf="inviteUserForm.get('authProvider')?.value=='internal'">
                <mat-label>First Name</mat-label>
                <input matInput placeholder="First Name" formControlName="firstName">
            </mat-form-field>

            <mat-form-field class="col-12 mt-3" *ngIf="inviteUserForm.get('authProvider')?.value=='internal'">
                <mat-label>Last Name</mat-label>
                <input matInput placeholder="Last Name" formControlName="lastName">
            </mat-form-field>
            
        </form>
        <div class="m-3">
            <button class="btn btn-primary p-3  w-100" type="submit" name="action" (click)="submit()">Invite</button>
        </div>
    </div>
</div>